% T3-Q2
% author：建筑智能化-陈凯（2213041002)
% Time:25/9/21
% Version:V1
%效果图：山区高度3D地形图.jpg；山区等高线平面图.jpg；山区等高线三维图.jpg


clc;
clear;
close all;

x =0: 400: 5600;y = 4800 :-400:0; 
z=[1350 1370 1390 1400 1410 960   940   880   800    690   570   430   290   210   150;
     1370  1390 1410 1430 1440 1140 1110 1050 950    820   690   540   380   300   210;
     1380  1410 1430 1450 1470 1320 1280 1200 1080  940   780   620   460   370   350; 
     1420  1430 1450 1480 1500 1550 1510 1430 1300  1200 980   850   750   550   500;
     1430  1450 1460 1500 1550 1600 1550 1600 1600  1600 1550 1500 1500 1550 1550;
     950    1190 1370 1500 1200 1100 1550 1600 1550  1380 1070 900   1050 1150  1200;
     910    1090 1270 1500 1200 1100 1350 1450 1200  1150 1010 880   1000 1050 1100;
     880    1060 1230 1390 1500 1500 1400 900   1100  1060 950   870   900   930   950;
     830    980   1180 1320 1450 1420 1400 1300 700    900   850   840   380   780   750;
     740    880   1080 1130 1250 1280 1230 1040 900    500   700   780   750   650   550;
     650    760   880   970   1020 1050 1020 830   800    700   300   500   550   480   350;
     510    620   730   800   850   870   850   780   720    650   500   200   300   350   320;
     370    470   550   600   670   690   670   620   580    450   400   300   100   150   250];

[X, Y] =meshgrid(x, y);
[Xi, Yi] =meshgrid(0 : 10 : 5600, 4800 : -10 : 0);

Zi=interp2(X, Y, z, Xi, Yi, 'spline');
mesh(Xi, Yi, Zi); 
xlabel('X坐标');ylabel('Y坐标');zlabel('山区高度');
title("山区高度3D地形图");

figure;
[r2, c2] =contour (Xi, Yi, Zi, [100 : 100 : 1600]);
clabel (r2, c2); xlabel('X坐标'); ylabel('Y坐标'); 
title("山区等高线平面图");

figure;
[r3, c3] =contour3 (Xi, Yi, Zi, [100 : 50 : 1600]);
clabel (r3, c3); xlabel('X坐标'); ylabel('Y坐标'); 
title("山区等高线三维图");


saveas(1, '山区高度3D地形图.jpg');
saveas(2, '山区等高线平面图.jpg');
saveas(3, '山区等高线三维图.jpg');